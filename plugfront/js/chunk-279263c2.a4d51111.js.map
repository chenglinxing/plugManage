{"version":3,"sources":["webpack:///./src/views/plugUnit/plugList/components/addPlug.vue?e2f2","webpack:///./src/views/plugUnit/plugList/components/addPlug.vue?c7dd","webpack:///src/views/plugUnit/plugList/components/addPlug.vue","webpack:///./src/views/plugUnit/plugList/components/addPlug.vue?d9b0","webpack:///./src/views/plugUnit/plugList/components/addPlug.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","addPlugForm","required","message","model","value","callback","$$v","$set","expression","pattern","_l","item","index","key","plugTypeName","plugTypeId","minRows","maxRows","on","$event","determine","_v","cancelPlugForm","staticRenderFns","props","data","plugName","plugLink","plugDes","userId","localStorage","getItem","status","methods","$refs","formName","validate","resetFields","$emit","created","operateStatus","updateFormData","component"],"mappings":"2IAAA,W,yCCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,UAAU,CAACG,IAAI,cAAcD,YAAY,gBAAgBE,MAAM,CAAC,MAAQR,EAAIS,YAAY,KAAO,QAAQ,cAAc,UAAU,CAACL,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,OAAO,KAAO,WAAW,MAAQ,CAAC,CAAEE,UAAU,EAAMC,QAAS,iBAAkB,CAACP,EAAG,WAAW,CAACI,MAAM,CAAC,UAAY,GAAG,YAAc,WAAWI,MAAM,CAACC,MAAOb,EAAIS,YAAoB,SAAEK,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIS,YAAa,WAAYM,IAAME,WAAW,2BAA2B,GAAGb,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,OAAO,KAAO,WAAW,MAAQ,CACvoB,CACEE,UAAU,EACVC,QAAS,aACTO,QACE,oWACE,CAACd,EAAG,WAAW,CAACI,MAAM,CAAC,UAAY,GAAG,YAAc,uBAAuBI,MAAM,CAACC,MAAOb,EAAIS,YAAoB,SAAEK,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIS,YAAa,WAAYM,IAAME,WAAW,2BAA2B,GAAGb,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,OAAO,KAAO,aAAa,MAAQ,CAC5S,CACEE,UAAU,EACVC,QAAS,cACL,CAACP,EAAG,YAAY,CAACQ,MAAM,CAACC,MAAOb,EAAIS,YAAsB,WAAEK,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIS,YAAa,aAAcM,IAAME,WAAW,2BAA2BjB,EAAImB,GAAInB,EAAgB,cAAE,SAASoB,EAAKC,GAAO,OAAOjB,EAAG,YAAY,CAACkB,IAAID,EAAMb,MAAM,CAAC,MAAQY,EAAKG,aAAa,MAAQH,EAAKI,iBAAgB,IAAI,GAAGpB,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,OAAO,KAAO,UAAU,MAAQ,CAAC,CAAEE,UAAU,EAAMC,QAAS,cAAe,CAACP,EAAG,WAAW,CAACI,MAAM,CAAC,UAAY,GAAG,KAAO,WAAW,UAAY,MAAM,kBAAkB,GAAG,YAAc,UAAU,SAAW,CAAEiB,QAAS,EAAGC,QAAS,IAAKd,MAAM,CAACC,MAAOb,EAAIS,YAAmB,QAAEK,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIS,YAAa,UAAWM,IAAME,WAAW,0BAA0B,IAAI,GAAGb,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,YAAY,CAACI,MAAM,CAAC,KAAO,WAAWmB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO5B,EAAI6B,UAAU,kBAAkB,CAAC7B,EAAI8B,GAAG,QAAQ1B,EAAG,YAAY,CAACI,MAAM,CAAC,KAAO,WAAWmB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAO5B,EAAI+B,eAAe,kBAAkB,CAAC/B,EAAI8B,GAAG,SAAS,IAAI,IACnhCE,EAAkB,G,qECmFtB,GACEC,MAAO,CAAC,eAAgB,iBAAkB,iBAC1CC,KAFF,WAGI,MAAO,CACLzB,YAAa,CACX0B,SAAU,GACVC,SAAU,GACVC,QAAS,GAETC,OAAQC,aAAaC,QAAQ,UAC7BhB,WAAY,EACZiB,OAAQ,QAIdC,QAAS,CAEPb,UAAW,KAAf,uBACM5B,KAAK0C,MAAMC,GAAUC,SAA3B,oKACA,EADA,oBAGA,mBAHA,gCAIA,8BAJA,OAIA,EAJA,OAKA,cACA,0BAEA,yBAEA,sCAVA,wCAcA,8BAdA,QAcA,EAdA,OAeA,aACA,0BAEA,yBAEA,sCAEA,0BAtBA,uCA0BA,2BA1BA,mBA2BA,GA3BA,qGA8BA,KAGId,eApCJ,SAoCA,GAEM9B,KAAK0C,MAAMC,GAAUE,cAErB7C,KAAK8C,MAAM,kBAAmB,YAGlCC,QA1DF,WA4D8B,GAAtB/C,KAAKgD,gBACPhD,KAAKQ,YAAcR,KAAKiD,gBAG1BjD,KAAKQ,YAAYgC,OAASxC,KAAKgD,gBC9J2V,I,wBCQ1XE,EAAY,eACd,EACApD,EACAiC,GACA,EACA,KACA,WACA,MAIa,aAAAmB,E","file":"js/chunk-279263c2.a4d51111.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addPlug.vue?vue&type=style&index=0&id=56da551d&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"add-plug\"},[_c('el-form',{ref:\"addPlugForm\",staticClass:\"add-plug-form\",attrs:{\"model\":_vm.addPlugForm,\"size\":\"small\",\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"插件名称\",\"prop\":\"plugName\",\"rules\":[{ required: true, message: '请输入正确的插件名称' }]}},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"请输入插件名称\"},model:{value:(_vm.addPlugForm.plugName),callback:function ($$v) {_vm.$set(_vm.addPlugForm, \"plugName\", $$v)},expression:\"addPlugForm.plugName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"插件链接\",\"prop\":\"plugLink\",\"rules\":[\n        {\n          required: true,\n          message: '请输入正确的插件链接',\n          pattern:\n            '^((https?|ftp|news):\\\\/\\\\/)?([a-z]([a-z0-9\\\\-]*[\\\\.。])+([a-z]{2}|aero|arpa|biz|com|coop|edu|gov|info|int|jobs|mil|museum|name|nato|net|org|pro|travel)|(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))(\\\\/[a-z0-9_\\\\-\\\\.~]+)*(\\\\/([a-z0-9_\\\\-\\\\.]*)(\\\\?[a-z0-9+_\\\\-\\\\.%=&]*)?)?(#[a-z][a-z0-9_]*)?$',\n        } ]}},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"请输入插件链接http://xx.xx\"},model:{value:(_vm.addPlugForm.plugLink),callback:function ($$v) {_vm.$set(_vm.addPlugForm, \"plugLink\", $$v)},expression:\"addPlugForm.plugLink\"}})],1),_c('el-form-item',{attrs:{\"label\":\"插件类型\",\"prop\":\"plugTypeId\",\"rules\":[\n        {\n          required: true,\n          message: '请输入插件类型',\n        } ]}},[_c('el-select',{model:{value:(_vm.addPlugForm.plugTypeId),callback:function ($$v) {_vm.$set(_vm.addPlugForm, \"plugTypeId\", $$v)},expression:\"addPlugForm.plugTypeId\"}},_vm._l((_vm.plugTypeList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.plugTypeName,\"value\":item.plugTypeId}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"插件描述\",\"prop\":\"plugDes\",\"rules\":[{ required: true, message: '请输入插件描述' }]}},[_c('el-input',{attrs:{\"clearable\":\"\",\"type\":\"textarea\",\"maxlength\":\"200\",\"show-word-limit\":\"\",\"placeholder\":\"请输入插件描述\",\"autosize\":{ minRows: 4, maxRows: 4 }},model:{value:(_vm.addPlugForm.plugDes),callback:function ($$v) {_vm.$set(_vm.addPlugForm, \"plugDes\", $$v)},expression:\"addPlugForm.plugDes\"}})],1)],1),_c('div',{staticClass:\"btn-operate\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.determine('addPlugForm')}}},[_vm._v(\"确定\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.cancelPlugForm('addPlugForm')}}},[_vm._v(\"取消\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!--添加插件-->\r\n  <div class=\"add-plug\">\r\n    <el-form\r\n      :model=\"addPlugForm\"\r\n      ref=\"addPlugForm\"\r\n      size=\"small\"\r\n      label-width=\"100px\"\r\n      class=\"add-plug-form\"\r\n    >\r\n      <el-form-item\r\n        label=\"插件名称\"\r\n        prop=\"plugName\"\r\n        :rules=\"[{ required: true, message: '请输入正确的插件名称' }]\"\r\n      >\r\n        <el-input\r\n          clearable\r\n          v-model=\"addPlugForm.plugName\"\r\n          placeholder=\"请输入插件名称\"\r\n        ></el-input>\r\n      </el-form-item>\r\n\r\n      <el-form-item\r\n        label=\"插件链接\"\r\n        prop=\"plugLink\"\r\n        :rules=\"[\r\n          {\r\n            required: true,\r\n            message: '请输入正确的插件链接',\r\n            pattern:\r\n              '^((https?|ftp|news):\\\\/\\\\/)?([a-z]([a-z0-9\\\\-]*[\\\\.。])+([a-z]{2}|aero|arpa|biz|com|coop|edu|gov|info|int|jobs|mil|museum|name|nato|net|org|pro|travel)|(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))(\\\\/[a-z0-9_\\\\-\\\\.~]+)*(\\\\/([a-z0-9_\\\\-\\\\.]*)(\\\\?[a-z0-9+_\\\\-\\\\.%=&]*)?)?(#[a-z][a-z0-9_]*)?$',\r\n          },\r\n        ]\"\r\n      >\r\n        <el-input\r\n          clearable\r\n          v-model=\"addPlugForm.plugLink\"\r\n          placeholder=\"请输入插件链接http://xx.xx\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item\r\n        label=\"插件类型\"\r\n        prop=\"plugTypeId\"\r\n        :rules=\"[\r\n          {\r\n            required: true,\r\n            message: '请输入插件类型',\r\n          },\r\n        ]\"\r\n      >\r\n        <el-select v-model=\"addPlugForm.plugTypeId\">\r\n          <el-option\r\n            v-for=\"(item, index) in plugTypeList\"\r\n            :key=\"index\"\r\n            :label=\"item.plugTypeName\"\r\n            :value=\"item.plugTypeId\"\r\n          ></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n\r\n      <el-form-item\r\n        label=\"插件描述\"\r\n        prop=\"plugDes\"\r\n        :rules=\"[{ required: true, message: '请输入插件描述' }]\"\r\n      >\r\n        <el-input\r\n          clearable\r\n          v-model=\"addPlugForm.plugDes\"\r\n          type=\"textarea\"\r\n          maxlength=\"200\"\r\n          show-word-limit\r\n          placeholder=\"请输入插件描述\"\r\n          :autosize=\"{ minRows: 4, maxRows: 4 }\"\r\n        ></el-input>\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n    <!--操作-->\r\n    <div class=\"btn-operate\">\r\n      <el-button type=\"primary\" @click=\"determine('addPlugForm')\"\r\n        >确定</el-button\r\n      >\r\n      <el-button type=\"primary\" @click=\"cancelPlugForm('addPlugForm')\"\r\n        >取消</el-button\r\n      >\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/*eslint-disable*/\r\nimport { dateFormat } from \"@u/dateFormat.js\";\r\nimport { insertPlug, updatePlugById } from \"@api/plug.js\";\r\nimport throttle from \"lodash.throttle\";\r\nexport default {\r\n  props: [\"plugTypeList\", \"updateFormData\", \"operateStatus\"],\r\n  data() {\r\n    return {\r\n      addPlugForm: {\r\n        plugName: \"\", //插件名\r\n        plugLink: \"\", //插件链接\r\n        plugDes: \"\", //插件描述\r\n        // insertPlugDate: dateFormat(new Date(), \"YYYY-mm-dd HH:MM:SS\"), //插件添加日期\r\n        userId: localStorage.getItem(\"userId\"), //当前登录用户\r\n        plugTypeId: 2, //插件类型\r\n        status: null,\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    /**点击确定 */\r\n    determine: throttle(function (formName) {\r\n      this.$refs[formName].validate(async (valid) => {\r\n        if (valid) {\r\n          /**新增 */\r\n          if (this.operateStatus == 0) {\r\n            const data = await insertPlug(this.addPlugForm);\r\n            if (data.code == 200) {\r\n              this.$message.success(data.msg);\r\n              //清空表单\r\n              this.$refs[formName].resetFields();\r\n              //关闭页面\r\n              this.$emit(\"closePlugDialog\", \"success\");\r\n            }\r\n          } else {\r\n            /**修改 */\r\n            const data = await updatePlugById(this.addPlugForm);\r\n            if (data.code == 200) {\r\n              this.$message.success(data.msg);\r\n              //清空表单\r\n              this.$refs[formName].resetFields();\r\n              //关闭页面\r\n              this.$emit(\"closePlugDialog\", \"success\");\r\n            } else {\r\n              this.$message.error(\"修改失败！\");\r\n            }\r\n          }\r\n        } else {\r\n          this.$message.error(\"存在必填项！\");\r\n          return false;\r\n        }\r\n      });\r\n    }, 2000),\r\n\r\n    /**点击取消 */\r\n    cancelPlugForm(formName) {\r\n      //清空表单\r\n      this.$refs[formName].resetFields();\r\n      //关闭页面\r\n      this.$emit(\"closePlugDialog\", \"cancel\");\r\n    },\r\n  },\r\n  created() {\r\n    /**判断状态是否为修改 */\r\n    if (this.operateStatus == 1) {\r\n      this.addPlugForm = this.updateFormData;\r\n    }\r\n    //存状态\r\n    this.addPlugForm.status = this.operateStatus;\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.add-plug {\r\n  .add-plug-form {\r\n    .el-input,\r\n    .el-textarea {\r\n      width: 80%;\r\n    }\r\n  }\r\n\r\n  .btn-operate {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addPlug.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addPlug.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addPlug.vue?vue&type=template&id=56da551d&scoped=true&\"\nimport script from \"./addPlug.vue?vue&type=script&lang=js&\"\nexport * from \"./addPlug.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addPlug.vue?vue&type=style&index=0&id=56da551d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"56da551d\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}